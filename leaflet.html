<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meshomatic</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="https://ppete2.github.io/Leaflet.PolylineMeasure/Leaflet.PolylineMeasure.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-geosearch/dist/geosearch.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-draw/dist/leaflet.draw.css" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet-distortableimage/dist/vendor.css" media="screen"
        title="no title">
    <link rel="stylesheet" href="https://unpkg.com/leaflet-distortableimage/dist/leaflet.distortableimage.css"
        media="screen" title="no title">
    <link rel="stylesheet" href="style.css" />

</head>

<body>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://unpkg.com/earcut/dist/earcut.min.js"></script>

    <script src="https://unpkg.com/leaflet-geosearch/dist/geosearch.umd.js"></script>
    <script src="https://unpkg.com/leaflet-distortableimage//dist/vendor.js"></script>
    <script src="https://unpkg.com/leaflet-distortableimage//dist/leaflet.distortableimage.js"></script>
    <script src="https://unpkg.com/leaflet-draw//dist/leaflet.draw.js"></script>
    
    <script src="https://unpkg.com/jszip/dist/jszip.min.js"></script>
    <script src="https://unpkg.com/jszip-utils/dist/jszip-utils.min.js"></script>

    <script src="martini.js"></script>
    <script src="export.js"></script>
    <script src="meshomatic.js"></script>
    <script src="drawImg.js"></script>
    <script src="mapp.js"></script>
    <script src="dxf.js"></script>

    <div id="map" class="map"></div>
    <div class="uiCol">
        <form class="form-style-9">
            <h1 class="title">Meshomatic</h1>
            <ul>
                <li>Find location on map.</li>
                <li>Use img to load an image into the map, scale and rotate. (optional)</li>
                <li>Select area to produce mesh for with polygon tool.</li>
                <li>Use origin tool to reference the mesh to a point. e.g. stage front or landmark.</li>
                <li>Choose options below and download mesh. (Then wait a moment)</li>
                
            </ul>

            <ul>

                <li>
                    <label for="res">Resolution:</label>
                    <select id="res" class="field-style">
                        <option value="h">High</option>
                        <option value="m" selected>Medium</option>
                        <option value="l">Low</option>
                        <option value="vl">Very Low</option>
                    </select>
                </li>
                <li>
                    <label for="filetype">Filetype:</label>
                    <select id="filetype" class="field-style">
                        <option value="obj">.obj file</option>
                        <option value="dbacv">.dbacv for ArrayCalc</option>
                        <option value="txt">.txt for SoundVision</option>
                        <option value="dae">.dae collada file</option>
                        <option value="bprint">.xar Blueprint floor file</option>
                        <option value="mappDef">MAPP3D create new file</option>
                        <option value="mappUpload">MAPP3D replace geometry in your file</option>
                    </select>
                </li>
                <li>
                    <input type="button" value="Download" id="downloadMesh" />
                    
                </li>
            </ul>
        </form>
        <h4>notes:</h4>
        <div class="notes">Soundvision seems to get particularly unhappy with detailed meshes and defaults to surfaces
            disabled.
            <br>Keeping mesh areas as small as possible definitely helps.
        </div>
        <br><Br>
        If this is useful to you... 
        <script src='https://storage.ko-fi.com/cdn/scripts/overlay-widget.js'></script>
        <script type='text/javascript' src='https://ko-fi.com/widgets/widget_2.js'></script><script type='text/javascript'>kofiwidget2.init('Buy me a coffee!', '#29abe0', 'D1D23XGW4');kofiwidget2.draw();</script> 
</div>

<canvas id="drawing" width="800" height="800">

</canvas>

</body >

</html >